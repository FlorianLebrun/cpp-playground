set(target HttpServer_CS)

set(CMAKE_CSharp_FLAGS "/langversion:5")

add_executable(${target} WIN32 main.cs lib.cpp)
set_target_properties(${target} PROPERTIES FOLDER "Any")
target_link_options(${target} PRIVATE /SUBSYSTEM:CONSOLE)

# Set compilation options
set_target_properties(${target} PROPERTIES 
  COMMON_LANGUAGE_RUNTIME ""
  IMPORTED_COMMON_LANGUAGE_RUNTIME "C++/CLI"
  VS_DOTNET_TARGET_FRAMEWORK_VERSION "v4.5"
)
set_property(TARGET ${target} PROPERTY VS_DOTNET_REFERENCES
    "mscorlib"
    "PresentationCore"
    "PresentationFramework"
    "System"
    "System.Core"
    "System.Drawing"
    "System.EnterpriseServices"
    "System.Xaml"
    "System.Xml"
    "System.Net"
    "System.IO"
    "WindowsBase"
)
